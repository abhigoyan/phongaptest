<!DOCTYPE html>
<html>
<head>
<title>Example 11-1</title>
<meta http-equiv="Content-type" content="text/html;
charset=utf-8">
<meta name="viewport" id="viewport"
content="width=device-width, height=device-height,
initial-scale=1.0, maximum-scale=1.0, user-scalable=no;"
/>
<script type="text/javascript" charset="utf-8"
src="phonegap.js"></script>
<script type="text/javascript" charset="utf-8">
var options = {
    quality : 100,
  destinationType : Camera.DestinationType.FILE_URI,
  sourceType:Camera.PictureSourceType.CAMERA,
  allowEdit : true,
  encodingType: Camera.EncodingType.JPEG,
  targetWidth: 100,
  targetHeight: 100,
  popoverOptions: CameraPopoverOptions,
  saveToPhotoAlbum: true 
 };
function onBodyLoad() {
document.addEventListener("deviceready", onDeviceReady,
false);
}function onDeviceReady() {
navigator.notification.alert("onDeviceReady");
}
function takePhoto() {
navigator.camera.getPicture(onCameraSuccess,
onCameraError,options);
}
function onCameraSuccess(imageURI) {
 var image = document.getElementById('myImage');
navigator.notification.alert("onCameraSuccess: " +
imageURI);
 image.src =imageURI;
 //resolve file system for image to move.
    window.resolveLocalFileSystemURI(imageURI, gotFileEntry, function(error){onfail(error,'Get Target Image')}); 


    function gotFileEntry(targetImg) {  
        //alert("got image file entry: " + targetImg.name);     
        //now lets resolve the location of the destination folder
        window.resolveLocalFileSystemURI(POSTPATH, gotDestinationEntry, function(error){onfail(error,'Get Destination Dir')});
        function gotDestinationEntry(destination){
            // move the file 
            targetImg.moveTo(destination, targetImg.name, moveSuccess, function(error){onfail(error,'Move Image')}); 
                 alert('dest :'+destination.fullPath);
            };

    function moveSuccess(){
        alert('FILE MOVE SUCCESSFUL!');   
    };
}
function onCameraError(e) {
navigator.notification.alert("onCameraError: " + e);
}
</script>
</head><body onload="onBodyLoad()">

<input type="button" value="Take a Picture"
onclick="takePhoto();">

<img src="" id="myImage" style="width:100px;height:100px"/>
</body>
</html>